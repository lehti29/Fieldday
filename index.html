<!DOCTYPE html>
<html>
<head>
<meta content="telephone=no" name="format-detection">
<meta content="no" name="msapplication-tap-highlight">
<meta content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" name="viewport">
<link href="css/index.css" rel="stylesheet" type="text/css">
<!-- Semantic-ui.com -->
<link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
<script src="https://code.jquery.com/jquery-3.1.1.min.js"
integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery.js"></script> 
<script src="semantic/dist/semantic.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>

<link rel="icon" href="favicon.ico"> 

<title>FieldDay!</title>
</head>
<body>
    <div class="ui left vertical borderless menu sidebar">
        <div class="item" id="userView">
            <div class="ui grid">
                <div class="seven wide column">
                    <img class="ui tiny circular image" id="displayImg">
                </div>
                <div class="nine wide column">
                    <h2 id="displayUsername"></h2>
                    <h4 id="displayMail"></h4>
                </div>
            </div>
        </div>
        <div class="item listItem">
            <i class="inverted orange users left aligned icon"></i>
            Groups
            <div class="ui form" id="groupBoxes">
            </div>
        </div>
    </div>
    <div class="pusher">
        <button class="circular ui violet icon button iconButtons largerButtons" id="sidebarToggle"><i class="content large icon"></i></button>
        
        <button id="sharePos" class="circular ui olive icon button iconButtons largerButtons bottomLeft" onclick="toggleInterval()">
            <i class="big icons">
                <i class="marker icon"></i> 
                <i class="large red dont icon" id="sharePosIcon"></i>
            </i>
        </button>

        <a href="chat.html"><button class="circular ui violet icon button iconButtons largerButtons topRight"><i class="large talk outline icon"></i></button></a>

        <!-- Login Screen -->
        <button class="circular ui violet icon button iconButtons largerButtons topThreeLeft" id="openLogin" onclick="logout()">
            <i class="large sign out icon"></i>
        </button>
        <div id="login" class="ui modal coupled">
            <div class="modal-content">
                <div class="container">
                    <h3>Login</h3>
                    <p id="createusersuccess" class="hide">Your account has been created! Please enter your credentials to login</p>
                    <label><b>Username</b></label>
                    <input type="text" placeholder="Enter Username" id="username" required>

                    <label><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" id="password" required>

                    <p id="wrongpassword" class="hide">Wrong password or username, make sure you've created an account!</p>
                    <button type="submit" class="ui olive big fullwidth button" onclick="login(document.getElementById('username').value, document.getElementById('password').value);">Login</button>
                    <div class="actions">
                        <button class="ui button blue fullwidth leftmargin loginbtn" id="createnewuserbutton">Create new user</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="createnewuser" class="ui modal coupled">
            <div class="modal-content">
                <div class="container">
                    <h3>Enter credentials to create user</h3>
                    <div class="invalidData hide" id="invalidUsername">Invalid username, can't contain ".", "#", "$", "[", or "]"</div>
                    <label><b>Username</b></label>
                    <input type="text" placeholder="Enter Username" id="newusername" required>

                    <div class="invalidData hide" id="invalidPassword">Can't be empty:</div>
                    <label><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" id="newpassword" required>

                    <div class="invalidData hide" id="invalidEmail">Can't be empty:</div>
                    <label><b>Email</b></label>
                    <input type="text" placeholder="Enter Email" id="newemail" required>

                    <div class="invalidData hide" id="invalidImage">Please submit an image:</div>
                    <input type="file" placeholder="Upload Image" id="newuserimage" required>

                    <p id="createUserMessage" class="invalidData hide">That user already exists</p>

                    <div class="actions">
                        <button type="submit" class="ui olive right floated button" type="button" onclick="addUser();">Create User</button>
                        <button type="button" class="ui cancel button leftmargin loginCancelButton">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map -->
        <div id="map"></div>       
        <script type="text/javascript" src="js/map.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/firebase.js"></script>

        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJAhKEJ5UPIGdVJOU1XMcHVZuRs1coa9o&callback=initMap"></script>
    </div>
</body>
</html>
